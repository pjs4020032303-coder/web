/*!
 * project : unseal
 * author : LINOFFICE
 * 봉인해제주문서
 */ let unseal_singleton=null,unseal_singletonEnforcer="singletonEnforcer";class Unseal{constructor(e){if(e!==unseal_singletonEnforcer)throw"Cannot--construct singleton";this.init()}static get instance(){return unseal_singleton||(unseal_singleton=new Unseal(unseal_singletonEnforcer)),unseal_singleton}init(){let e=this;e.param={email:void 0,count:void 0,password:void 0},e.regist_lock=!1,e.wrap_step1=document.querySelector(".section-unseal-request.step1"),e.wrap_step2=document.querySelector(".section-unseal-request.step2"),e.wrap_authkey=document.querySelector("#section_input_authkey"),e.wrap_result=document.querySelector("#section_auth_result"),$(document).on("click",".custom-count li",function(e){var t=$(this).attr("data-value");$("#itemCount").val(t),$(this).parent().parent().find(".result-amount strong").text($(this).text()),$(this).parent().parent().find(".result-amount strong").val($(this).attr("data-value")),$(this).hasClass("selected")||$(this).addClass("selected").siblings().removeClass("selected")}),document.querySelector(".section-unseal-request.step2 .wrap-button .button.layer-popup").addEventListener("click",t=>{e.authkey()}),document.querySelector(".section-unseal-request.step2 .wrap-button .button.cancel").addEventListener("click",e=>{location.href="index"}),document.querySelector("#section_input_authkey .wrap-button .button.auth").addEventListener("click",t=>{e.result()}),document.querySelector("#section_input_authkey .wrap-button .button.cancel").addEventListener("click",t=>{e.wrap_authkey.style.display="none",e.wrap_step1.style.display=e.wrap_step2.style.display=""})}authkey(){let e=this;if(e.param.email=e.param.count=void 0,e.param.email=$("#input_email").val(),e.param.count=$("#itemCount").val(),!e.param.email){ncuim_modal_show("이메일을 입력하십시오.");return}if(!is_email_check(e.param.email)){ncuim_modal_show("이메일이 올바르지 않습니다.");return}if(!e.param.count){ncuim_modal_show("수량을 선택하십시오.");return}if(!account){ncuim_modal_show("로그인 후 이용할 수 있습니다.");return}if(!account.firstChar){ncuim_modal_show("대표 캐릭터가 설정되어 있지 않습니다.");return}!e.regist_lock&&(e.regist_lock=!0,getDatasWithOption([{type:"POST",url:"/define/unseal/request",dataType:"json",contentType:"application/json",Accept:"application/json",data:e.param}],t=>{switch(t){case 1:e.wrap_step1.style.display=e.wrap_step2.style.display="none",e.wrap_authkey.style.display="";break;case 2:ncuim_modal_show("인게임에서 신청할 수 있습니다.");break;case 3:ncuim_modal_show("계정 정보를 찾을 수 없습니다.");break;case 4:ncuim_modal_show("대표 캐릭터를 찾을 수 없습니다.");break;case 5:ncuim_modal_show("월드 내 캐릭터를 찾을 수 없습니다.");break;case 6:ncuim_modal_show("현재 해당 서비스는 사용하지 않습니다.");break;case 7:ncuim_modal_show("파라미터가 누락되었습니다.");break;case 8:ncuim_modal_show("인증메일 전송에 실패하였습니다.");break;case 9:ncuim_modal_show("보안인증이 되어있지 않습니다.</br>인게임에서 인증 완료 후 진행하십시오.");break;default:ncuim_modal_show("알 수 없는 이유로 실패하였습니다.")}e.regist_lock=!1},t=>{e.regist_lock=!1}))}result(){let e=this;if(e.param.password=$("#authKey").val(),!e.param.password){ncuim_modal_show("인증번호를 입력하십시오.");return}!e.regist_lock&&(e.regist_lock=!0,getDatasWithOption([{type:"POST",url:"/define/unseal/authkey",dataType:"json",contentType:"application/json",Accept:"application/json",data:e.param}],t=>{switch(t){case 1:e.wrap_authkey.style.display="none",e.wrap_result.style.display="";break;case 2:ncuim_modal_show("인게임에서 신청할 수 있습니다.");break;case 3:ncuim_modal_show("계정 정보를 찾을 수 없습니다.");break;case 4:ncuim_modal_show("대표 캐릭터를 찾을 수 없습니다.");break;case 5:ncuim_modal_show("월드 내 캐릭터를 찾을 수 없습니다.");break;case 6:ncuim_modal_show("파라미터가 누락되었습니다.");break;case 7:ncuim_modal_show("인증 시간이 초과되었습니다.");break;case 8:ncuim_modal_show("인증 번호가 일치하지 않습니다.");break;default:ncuim_modal_show("알 수 없는 이유로 실패하였습니다.")}e.regist_lock=!1},t=>{e.regist_lock=!1}))}}Unseal.instance;