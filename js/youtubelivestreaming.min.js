/*!
 * project : youtubelivestreaming
 * author : LINOFFICE
 * 유튜브 방송 보상
 */ let youtube_singleton=null,youtube_singletonEnforcer="singletonEnforcer";class YoutubeLiveStreaming{constructor(e){if(e!==youtube_singletonEnforcer)throw"Cannot--construct singleton";this.init()}static get instance(){return youtube_singleton||(youtube_singleton=new YoutubeLiveStreaming(youtube_singletonEnforcer)),youtube_singleton}init(){let e=this;e.param={video_id:void 0,channel_id:void 0},e.regist_lock=!1,e.init_progress(),document.querySelector(".wrap header .btn_close").addEventListener("click",e=>{window.self.opener?window.self.close():history.back()})}init_progress(){let e=this,t=`<section class="init_section"><div class="message_area"><h1>유튜브 방송 등록 안내</h1><ul>${youtube_message}</ul></div><div class="btn_wrap"><button type="button" class="btn"><span>다음</span></button></div></section>`;$(".regist_container").html(t),document.querySelector(".init_section .btn_wrap .btn").addEventListener("click",t=>{e.setting_progress()})}setting_progress(){let e=this;e.param.video_id=e.param.channel_id=void 0,$(".regist_container").html('<section class="setting_section"><div class="message_area"><p>유튜브 방송 정보를 입력하십시오.</p></div><div class="input_area"><div class="input_box"><label>영상 고유 ID : https://www.youtube.com/watch?v={영상 고유 ID}</label><input type="text" autocomplete="off" placeholder="영상 고유 ID" id="video_id"></div><div class="input_box"><label>채널 고유 ID : 채널 맞춤 설정 -> 채널 URL -> 끝에 있는 숫자와 문자 조합인 고유 채널 ID</label><input type="text" autocomplete="off" placeholder="채널 고유 ID" id="channel_id"></div></div><div class="btn_wrap"><button type="button" class="btn left"><span>이전</span></button><button type="button" class="btn right"><span>다음</span></button></div></section>'),document.querySelector(".setting_section .btn_wrap .btn.left").addEventListener("click",t=>{e.init_progress()}),document.querySelector(".setting_section .btn_wrap .btn.right").addEventListener("click",t=>{e.finish_progress()})}finish_progress(){let e=this,t=$("#video_id").val();if(!t){ncuim_modal_show("영상 고유 ID가 설정되지 않았습니다.");return}let s=$("#channel_id").val();if(!s){ncuim_modal_show("채널 고유 ID가 설정되지 않았습니다.");return}e.param.video_id=t,e.param.channel_id=s;let n=`<section class="finish_section"><div class="message_area"><p>정보를 확인 후 등록 버튼을 눌러주세요.</p></div><div class="finish_area"><div class="txt">영상 고유 ID: <span>${e.param.video_id}</span></div><div class="txt">채널 고유 ID: <span>${e.param.channel_id}</span></div></div><div class="btn_wrap"><button type="button" class="btn left"><span>이전</span></button><button type="button" class="btn right"><span>등록</span></button></div></section>`;$(".regist_container").html(n),document.querySelector(".finish_section .btn_wrap .btn.left").addEventListener("click",t=>{e.setting_progress()}),document.querySelector(".finish_section .btn_wrap .btn.right").addEventListener("click",t=>{e.regist()})}regist(){let e=this;!e.regist_lock&&(e.regist_lock=!0,getDatasWithOption([{type:"POST",url:"/define/youtubelivestreaming",dataType:"json",contentType:"application/json",Accept:"application/json",data:e.param}],t=>{switch(t){case 1:ncuim_modal_show("정상적으로 처리되었습니다.");break;case 2:ncuim_modal_show("인게임에서 등록할 수 있습니다.");break;case 3:ncuim_modal_show("계정을 찾을 수 없습니다.");break;case 4:ncuim_modal_show("주 캐릭터를 찾을 수 없습니다.");break;case 5:ncuim_modal_show("인게임 내 캐릭터를 찾을 수 없습니다.");break;case 6:ncuim_modal_show("현재 해당 시스템은 사용할 수 없습니다.");break;case 7:ncuim_modal_show("파라미터가가 누락되었습니다.");break;case 8:ncuim_modal_show("영상 정보를 가져오는중에 오류가 발생하였습니다.");break;case 9:ncuim_modal_show("이미 등록된 영상입니다.");break;case 10:ncuim_modal_show("영상 데이터를 찾을 수 없습니다.");break;case 11:ncuim_modal_show("영상의 상세 데이터를 찾을 수 없습니다.");break;case 12:ncuim_modal_show("채널 고유 ID가 올바르지 않습니다.");break;case 13:ncuim_modal_show("해당 방송은 본 서버의 관련 방송이 아닙니다.");break;case 14:ncuim_modal_show("실시간 방송 데이터를 찾을 수 없습니다.");break;case 15:ncuim_modal_show("실시간 방송이 종료되지 않아 총 시간을 확인할 수 없습니다.");break;case 16:ncuim_modal_show("최소 방송시간이 충족되지 않았습니다.");break;case 17:ncuim_modal_show("등록에 실패하였습니다.");break;case 18:ncuim_modal_show("보상 아이템을 찾을 수 없습니다.");break;case 19:ncuim_modal_show("3일 이상 경과된 방송은 등록할 수 없습니다.");break;default:ncuim_modal_show("알 수 없는 이유로 실패하였습니다.")}e.regist_lock=!1},t=>{e.regist_lock=!1}))}}YoutubeLiveStreaming.instance;