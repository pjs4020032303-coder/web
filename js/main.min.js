!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports.Dragdealer=e():t.Dragdealer=e()}(this,function(){var t=function(t,e){if(this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper)this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners())};t.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){var t;this.options.css3&&(t=this.handle,l.backfaceVisibility&&l.perspective&&(t.style[l.perspective]="1000px",t.style[l.backfaceVisibility]="hidden")),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,n,s;if(t.getElementsByClassName){if((i=t.getElementsByClassName(e)).length>0)return i[0]}else for(s=0,n=RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*");s<i.length;s++)if(n.test(i[s].className))return i[s]},calculateStepRatios:function(){var t=[];if(this.options.steps>=1)for(var e=0;e<=this.options.steps-1;e++)this.options.steps>1?t[e]=e/(this.options.steps-1):t[e]=0;return t},setWrapperOffset:function(){this.offset.wrapper=r.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=e(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=e(u,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=e(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=e(p,window),this.animateWithRequestAnimationFrame=e(this.animateWithRequestAnimationFrame,this),this.animate=e(this.animate,this),this.onHandleMouseDown=e(this.onHandleMouseDown,this),this.onHandleTouchStart=e(this.onHandleTouchStart,this),this.onDocumentMouseMove=e(this.onDocumentMouseMove,this),this.onWrapperTouchMove=e(this.onWrapperTouchMove,this),this.onWrapperMouseDown=e(this.onWrapperMouseDown,this),this.onWrapperTouchStart=e(this.onWrapperTouchStart,this),this.onDocumentMouseUp=e(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=e(this.onDocumentTouchEnd,this),this.onHandleClick=e(this.onHandleClick,this),this.onWindowResize=e(this.onWindowResize,this)},bindEventListeners:function(){i(this.handle,"mousedown",this.onHandleMouseDown),i(this.handle,"touchstart",this.onHandleTouchStart),i(document,"mousemove",this.onDocumentMouseMove),i(this.wrapper,"touchmove",this.onWrapperTouchMove),i(this.wrapper,"mousedown",this.onWrapperMouseDown),i(this.wrapper,"touchstart",this.onWrapperTouchStart),i(document,"mouseup",this.onDocumentMouseUp),i(document,"touchend",this.onDocumentTouchEnd),i(this.handle,"click",this.onHandleClick),i(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){o.refresh(t),s(t),a(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){o.refresh(t),a(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){(t.clientX-this.dragStartPosition.x!=0||t.clientY-this.dragStartPosition.y!=0)&&(o.refresh(t),this.dragging&&(this.activity=!0,s(t)))},onWrapperTouchMove:function(t){if(o.refresh(t),!this.activity&&this.draggingOnDisabledAxis()){this.dragging&&this.stopDrag();return}s(t),this.activity=!0},onWrapperMouseDown:function(t){o.refresh(t),s(t),this.startTap()},onWrapperTouchStart:function(t){o.refresh(t),s(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(s(t),a(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([o.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,o.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){!this.disabled&&(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:o.x,y:o.y},this.offset.mouse=[o.x-r.get(this.handle)[0],o.y-r.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=0===this.bounds.availWidth?0:(o.x-this.dragStartPosition.x)/this.bounds.availWidth,e=0===this.bounds.availHeight?0:(o.y-this.dragStartPosition.y)/this.bounds.availHeight,i=this.groupClone(this.value.current);if(this.options.slide){var n=this.change;i[0]+=4*n[0],i[1]+=4*n[1]}this.setTargetValue(i),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback([t,e])}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(t){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],t)},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[o.x-this.offset.wrapper[0]-this.offset.mouse[0],o.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(n,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return(!!t[0]||!!t[1])&&(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=t[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";if(this.options.css3&&l.transform){this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),this.handle.style[l.transform]=t;return}this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),n=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,n=0;n<=this.options.steps-1;n++)Math.abs(this.stepRatios[n]-t)<i&&(i=Math.abs(this.stepRatios[n]-t),e=n);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&o.xDiff>o.yDiff||!this.options.vertical&&o.yDiff>o.xDiff}};var e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},n=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},s=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},a=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},o={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},r={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},l={transform:c("transform"),perspective:c("perspective"),backfaceVisibility:c("backfaceVisibility")};function c(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<e.length;n++)if(void 0!==i[e[n]+t])return e[n]+t}for(var h=["webkit","moz"],u=window.requestAnimationFrame,p=window.cancelAnimationFrame,d=0;d<h.length&&!u;++d)u=window[h[d]+"RequestAnimationFrame"],p=window[h[d]+"CancelAnimationFrame"]||window[h[d]+"CancelRequestAnimationFrame"];return u||(u=function(t){return setTimeout(t,25)},p=clearTimeout),t}),/*!
 * tram.js v0.8.3-global
 * Cross-browser CSS3 transitions in JavaScript
 * https://github.com/bkwld/tram
 * MIT License
 */ window.tram=function(t){/*!
   * P.js
   * A lightweight class system.  It's just prototypes!
   * http:// github.com/jayferd/pjs
   * MIT license
   */ var e=function(t,e,i){function n(t){return"object"==typeof t}function s(t){return"function"==typeof t}function a(){}return function i(o,r){function l(){var t=new c;return s(t.init)&&t.init.apply(t,arguments),t}function c(){}void 0===r&&(r=o,o=Object),l.Bare=c;var h,u=a[t]=o[t],p=c[t]=l[t]=new a;return p.constructor=l,l.mixin=function(e){return c[t]=l[t]=i(l,e)[t],l},l.open=function(t){if(h={},s(t)?h=t.call(l,p,u,l,o):n(t)&&(h=t),n(h))for(var i in h)e.call(h,i)&&(p[i]=h[i]);return s(p.init)||(p.init=o),l},l.open(r)}}("prototype",{}.hasOwnProperty),i={ease:["ease",function(t,e,i,n){var s=(t/=n)*t,a=s*t;return e+i*(-2.75*a*s+11*s*s+-15.5*a+8*s+.25*t)}],"ease-in":["ease-in",function(t,e,i,n){var s=(t/=n)*t,a=s*t;return e+i*(-1*a*s+3*s*s+-3*a+2*s)}],"ease-out":["ease-out",function(t,e,i,n){var s=(t/=n)*t,a=s*t;return e+i*(.3*a*s+-1.6*s*s+2.2*a+-1.8*s+1.9*t)}],"ease-in-out":["ease-in-out",function(t,e,i,n){var s=(t/=n)*t,a=s*t;return e+i*(2*a*s+-5*s*s+2*a+2*s)}],linear:["linear",function(t,e,i,n){return i*t/n+e}],"ease-in-quad":["cubic-bezier(0.550, 0.085, 0.680, 0.530)",function(t,e,i,n){return i*(t/=n)*t+e}],"ease-out-quad":["cubic-bezier(0.250, 0.460, 0.450, 0.940)",function(t,e,i,n){return-i*(t/=n)*(t-2)+e}],"ease-in-out-quad":["cubic-bezier(0.455, 0.030, 0.515, 0.955)",function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}],"ease-in-cubic":["cubic-bezier(0.550, 0.055, 0.675, 0.190)",function(t,e,i,n){return i*(t/=n)*t*t+e}],"ease-out-cubic":["cubic-bezier(0.215, 0.610, 0.355, 1)",function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e}],"ease-in-out-cubic":["cubic-bezier(0.645, 0.045, 0.355, 1)",function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}],"ease-in-quart":["cubic-bezier(0.895, 0.030, 0.685, 0.220)",function(t,e,i,n){return i*(t/=n)*t*t*t+e}],"ease-out-quart":["cubic-bezier(0.165, 0.840, 0.440, 1)",function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e}],"ease-in-out-quart":["cubic-bezier(0.770, 0, 0.175, 1)",function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}],"ease-in-quint":["cubic-bezier(0.755, 0.050, 0.855, 0.060)",function(t,e,i,n){return i*(t/=n)*t*t*t*t+e}],"ease-out-quint":["cubic-bezier(0.230, 1, 0.320, 1)",function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e}],"ease-in-out-quint":["cubic-bezier(0.860, 0, 0.070, 1)",function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}],"ease-in-sine":["cubic-bezier(0.470, 0, 0.745, 0.715)",function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}],"ease-out-sine":["cubic-bezier(0.390, 0.575, 0.565, 1)",function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}],"ease-in-out-sine":["cubic-bezier(0.445, 0.050, 0.550, 0.950)",function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}],"ease-in-expo":["cubic-bezier(0.950, 0.050, 0.795, 0.035)",function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e}],"ease-out-expo":["cubic-bezier(0.190, 1, 0.220, 1)",function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e}],"ease-in-out-expo":["cubic-bezier(1, 0, 0, 1)",function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e}],"ease-in-circ":["cubic-bezier(0.600, 0.040, 0.980, 0.335)",function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}],"ease-out-circ":["cubic-bezier(0.075, 0.820, 0.165, 1)",function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e}],"ease-in-out-circ":["cubic-bezier(0.785, 0.135, 0.150, 0.860)",function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}],"ease-in-back":["cubic-bezier(0.600, -0.280, 0.735, 0.045)",function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e}],"ease-out-back":["cubic-bezier(0.175, 0.885, 0.320, 1.275)",function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e}],"ease-in-out-back":["cubic-bezier(0.680, -0.550, 0.265, 1.550)",function(t,e,i,n,s){return(void 0===s&&(s=1.70158),(t/=n/2)<1)?i/2*(t*t*(((s*=1.525)+1)*t-s))+e:i/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e}]},n={"ease-in-back":"cubic-bezier(0.600, 0, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1)","ease-in-out-back":"cubic-bezier(0.680, 0, 0.265, 1)"},s=window,a="bkwld-tram",o=/[\-\.0-9]/g,r=/[A-Z]/,l="number",c=/^(rgb|#)/,h=/(em|cm|mm|in|pt|pc|px)$/,u=/(em|cm|mm|in|pt|pc|px|%)$/,p=/(deg|rad|turn)$/,d="unitless",m=/(all|none) 0s ease 0s/,g=/^(width|height)$/,v=document.createElement("a"),f=["Webkit","Moz","O","ms"],b=["-webkit-","-moz-","-o-","-ms-"],_=function(t){if(t in v.style)return{dom:t,css:t};var e,i,n="",s=t.split("-");for(e=0;e<s.length;e++)n+=s[e].charAt(0).toUpperCase()+s[e].slice(1);for(e=0;e<f.length;e++)if((i=f[e]+n)in v.style)return{dom:i,css:b[e]+t}},y=W.support={bind:Function.prototype.bind,transform:_("transform"),transition:_("transition"),backface:_("backface-visibility"),timing:_("transition-timing-function")};if(y.transition){var w=y.timing.dom;if(v.style[w]=i["ease-in-back"][0],!v.style[w])for(var k in n)i[k][0]=n[k]}var N,x,I,B=W.frame=(N=s.requestAnimationFrame||s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame)&&y.bind?N.bind(s):function(t){s.setTimeout(t,16)},C=W.now=(I=(x=s.performance)&&(x.now||x.webkitNow||x.msNow||x.mozNow))&&y.bind?I.bind(x):Date.now||function(){return+new Date},T=e(function(e){function i(t,e){var i=function t(e){for(var i=-1,n=e?e.length:0,s=[];++i<n;){var a=e[i];a&&s.push(a)}return s}((""+t).split(" ")),n=i[0];e=e||{};var s=j[n];if(!s)return Q("Unsupported property: "+n);if(!e.weak||!this.props[n]){var a=s[0],o=this.props[n];return o||(o=this.props[n]=new a.Bare),o.init(this.$el,i,s,e),o}}function n(t,e,n){if(t){var a=typeof t;if(e||(this.timer&&this.timer.destroy(),this.queue=[],this.active=!1),"number"==a&&e){this.timer=new z({duration:t,context:this,complete:s}),this.active=!0;return}if("string"==a&&e){switch(t){case"hide":l.call(this);break;case"stop":o.call(this);break;case"redraw":c.call(this);break;default:i.call(this,t,n&&n[1])}return s.call(this)}if("function"==a){t.call(this,this);return}if("object"==a){var r=0;u.call(this,t,function(t,e){t.span>r&&(r=t.span),t.stop(),t.animate(e)},function(t){"wait"in t&&(r=Z(t.wait,0))}),h.call(this),r>0&&(this.timer=new z({duration:r,context:this}),this.active=!0,e&&(this.timer.complete=s));var p=this,d=!1,m={};B(function(){u.call(p,t,function(t){t.active&&(d=!0,m[t.name]=t.nextStyle)}),d&&p.$el.css(m)})}}}function s(){if(this.timer&&this.timer.destroy(),this.active=!1,this.queue.length){var t=this.queue.shift();n.call(this,t.options,!0,t.args)}}function o(t){var e;this.timer&&this.timer.destroy(),this.queue=[],this.active=!1,"string"==typeof t?(e={})[t]=1:e="object"==typeof t&&null!=t?t:this.props,u.call(this,e,p),h.call(this)}function l(){o.call(this),this.el.style.display="none"}function c(){this.el.offsetHeight}function h(){var t,e,i=[];for(t in this.upstream&&i.push(this.upstream),this.props)(e=this.props[t]).active&&i.push(e.string);i=i.join(","),this.style!==i&&(this.style=i,this.el.style[y.transition.dom]=i)}function u(t,e,n){var s,a,o,l,c=e!==p,h={};for(s in t){if(o=t[s],s in U){h.transform||(h.transform={}),h.transform[s]=o;continue}if(r.test(s)&&(s=V(s)),s in j){h[s]=o;continue}l||(l={}),l[s]=o}for(s in h){if(o=h[s],!(a=this.props[s])){if(!c)continue;a=i.call(this,s)}e.call(this,a,o)}n&&l&&n.call(this,l)}function p(t){t.stop()}function d(t,e){t.set(e)}function g(t){this.$el.css(t)}function v(t,i){e[t]=function(){return this.children?f.call(this,i,arguments):(this.el&&i.apply(this,arguments),this)}}function f(t,e){var i,n=this.children.length;for(i=0;i<n;i++)t.apply(this.children[i],e);return this}e.init=function(e){if(this.$el=t(e),this.el=this.$el[0],this.props={},this.queue=[],this.style="",this.active=!1,O.keepInherited&&!O.fallback){var i=M(this.el,"transition");i&&!m.test(i)&&(this.upstream=i)}y.backface&&O.hideBackface&&H(this.el,y.backface.css,"hidden")},v("add",i),v("start",n),v("wait",function t(e){e=Z(e,0),this.active?this.queue.push({options:e}):(this.timer=new z({duration:e,context:this,complete:s}),this.active=!0)}),v("then",function t(e){if(!this.active)return Q("No active transition timer. Use start() or wait() before then().");this.queue.push({options:e,args:arguments}),this.timer.complete=s}),v("next",s),v("stop",o),v("set",function t(e){o.call(this,e),u.call(this,e,d,g)}),v("show",function t(e){"string"!=typeof e&&(e="block"),this.el.style.display=e}),v("hide",l),v("redraw",c),v("destroy",function e(){o.call(this),t.removeData(this.el,a),this.$el=this.el=null})}),S=e(T,function(e){e.init=function(e,n){var s=t(e);if(!s.length)return this;if(1===s.length)return i(s[0],n);var a=[];return s.each(function(t,e){a.push(i(e,n))}),this.children=a,this};function i(e,i){var n=t.data(e,a)||t.data(e,a,new T.Bare);return(n.el||n.init(e),i)?n.start(i):n}}),E=e(function(t){var e={duration:500,ease:"ease",delay:0};function n(){var t=this.get();this.update("auto");var e=this.get();return this.update(t),e}t.init=function(t,n,s,a){this.$el=t,this.el=t[0];var o,r,l,c=n[0];s[2]&&(c=s[2]),F[c]&&(c=F[c]),this.name=c,this.type=s[1],this.duration=Z(n[1],this.duration,e.duration),this.ease=(o=n[2],r=this.ease,l=e.ease,void 0!==r&&(l=r),o in i?o:l),this.delay=Z(n[3],this.delay,e.delay),this.span=this.duration+this.delay,this.active=!1,this.nextStyle=null,this.auto=g.test(this.name),this.unit=a.unit||this.unit||O.defaultUnit,this.angle=a.angle||this.angle||O.defaultAngle,O.fallback||a.fallback?this.animate=this.fallback:(this.animate=this.transition,this.string=this.name+" "+this.duration+"ms"+("ease"!=this.ease?" "+i[this.ease][0]:"")+(this.delay?" "+this.delay+"ms":""))},t.set=function(t){t=this.convert(t,this.type),this.update(t),this.redraw()},t.transition=function(t){this.active=!0,t=this.convert(t,this.type),this.auto&&("auto"==this.el.style[this.name]&&(this.update(this.get()),this.redraw()),"auto"==t&&(t=n.call(this))),this.nextStyle=t},t.fallback=function(t){var e=this.el.style[this.name]||this.convert(this.get(),this.type);t=this.convert(t,this.type),this.auto&&("auto"==e&&(e=this.convert(this.get(),this.type)),"auto"==t&&(t=n.call(this))),this.tween=new A({from:e,to:t,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},t.get=function(){return M(this.el,this.name)},t.update=function(t){H(this.el,this.name,t)},t.stop=function(){(this.active||this.nextStyle)&&(this.active=!1,this.nextStyle=null,H(this.el,this.name,this.get()));var t=this.tween;t&&t.context&&t.destroy()},t.convert=function(t,e){if("auto"==t&&this.auto)return t;var i,n,s,a,r,m="number"==typeof t,g="string"==typeof t;switch(e){case l:if(m)return t;if(g&&""===t.replace(o,""))return+t;r="number(unitless)";break;case c:if(g){if(""===t&&this.original)return this.original;if(e.test(t)){if("#"==t.charAt(0)&&7==t.length)return t;return i=t,n=/rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(i),(n?Y(n[1],n[2],n[3]):i).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}}r="hex or rgb string";break;case h:if(m)return t+this.unit;if(g&&e.test(t))return t;r="number(px) or string(unit)";break;case u:if(m)return t+this.unit;if(g&&e.test(t))return t;r="number(px) or string(unit or %)";break;case p:if(m)return t+this.angle;if(g&&e.test(t))return t;r="number(deg) or string(angle)";break;case d:if(m||g&&u.test(t))return t;r="number(unitless) or string(unit or %)"}return s=r,Q("Type warning: Expected: ["+s+"] Got: ["+typeof(a=t)+"] "+a),t},t.redraw=function(){this.el.offsetHeight}}),D=e(E,function(t,e){t.init=function(){e.init.apply(this,arguments),this.original||(this.original=this.convert(this.get(),c))}}),P=e(E,function(t,e){t.init=function(){e.init.apply(this,arguments),this.animate=this.fallback},t.get=function(){return this.$el[this.name]()},t.update=function(t){this.$el[this.name](t)}}),L=e(E,function(t,e){function i(t,e){var i,n,s,a,o;for(i in t)s=(a=U[i])[0],n=a[1]||i,o=this.convert(t[i],s),e.call(this,n,o,s)}t.init=function(){e.init.apply(this,arguments),!this.current&&(this.current={},U.perspective&&O.perspective&&(this.current.perspective=O.perspective,H(this.el,this.name,this.style(this.current)),this.redraw()))},t.set=function(t){i.call(this,t,function(t,e){this.current[t]=e}),H(this.el,this.name,this.style(this.current)),this.redraw()},t.transition=function(t){var e=this.values(t);this.tween=new R({current:this.current,values:e,duration:this.duration,delay:this.delay,ease:this.ease});var i,n={};for(i in this.current)n[i]=i in e?e[i]:this.current[i];this.active=!0,this.nextStyle=this.style(n)},t.fallback=function(t){var e=this.values(t);this.tween=new R({current:this.current,values:e,duration:this.duration,delay:this.delay,ease:this.ease,update:this.update,context:this})},t.update=function(){H(this.el,this.name,this.style(this.current))},t.style=function(t){var e,i="";for(e in t)i+=e+"("+t[e]+") ";return i},t.values=function(t){var e,n={};return i.call(this,t,function(t,i,s){n[t]=i,void 0===this.current[t]&&(e=0,~t.indexOf("scale")&&(e=1),this.current[t]=this.convert(e,s))}),n}}),A=e(function(e){var n={ease:i.ease[1],from:0,to:1};e.init=function(t){this.duration=t.duration||0,this.delay=t.delay||0;var e=t.ease||n.ease;i[e]&&(e=i[e][1]),"function"!=typeof e&&(e=n.ease),this.ease=e,this.update=t.update||K,this.complete=t.complete||K,this.context=t.context||this,this.name=t.name;var s=t.from,a=t.to;void 0===s&&(s=n.from),void 0===a&&(a=n.to),this.unit=t.unit||"","number"==typeof s&&"number"==typeof a?(this.begin=s,this.change=a-s):this.format(a,s),this.value=this.begin+this.unit,this.start=C(),!1!==t.autoplay&&this.play()},e.play=function(){var t;this.active||(this.start||(this.start=C()),this.active=!0,t=this,1===s.push(t)&&B(a))},e.stop=function(){var e,i,n;this.active&&(this.active=!1,e=this,(n=t.inArray(e,s))>=0&&(i=s.slice(n+1),s.length=n,i.length&&(s=s.concat(i))))},e.render=function(t){var e,i=t-this.start;if(this.delay){if(i<=this.delay)return;i-=this.delay}if(i<this.duration){var n,s,a,o,r=this.ease(i,0,1,this.duration);e=this.startRGB?(n=this.startRGB,s=this.endRGB,a=r,Y(n[0]+a*(s[0]-n[0]),n[1]+a*(s[1]-n[1]),n[2]+a*(s[2]-n[2]))):(o=this.begin+r*this.change,Math.round(1e3*o)/1e3),this.value=e+this.unit,this.update.call(this.context,this.value);return}e=this.endHex||this.begin+this.change,this.value=e+this.unit,this.update.call(this.context,this.value),this.complete.call(this.context),this.destroy()},e.format=function(t,e){if(e+="","#"==(t+="").charAt(0)){this.startRGB=q(e),this.endRGB=q(t),this.endHex=t,this.begin=0,this.change=1;return}if(!this.unit){var i,n,s=e.replace(o,""),a=t.replace(o,""),r="tween";s!==a&&(i=e,n=t,Q("Units do not match ["+r+"]: "+i+", "+n)),this.unit=s}e=parseFloat(e),t=parseFloat(t),this.begin=this.value=e,this.change=t-e},e.destroy=function(){this.stop(),this.context=null,this.ease=this.update=this.complete=K};var s=[];function a(){var t,e,i,n=s.length;if(n)for(B(a),e=C(),t=n;t--;)(i=s[t])&&i.render(e)}}),z=e(A,function(t){t.init=function(t){this.duration=t.duration||0,this.complete=t.complete||K,this.context=t.context,this.play()},t.render=function(t){t-this.start<this.duration||(this.complete.call(this.context),this.destroy())}}),R=e(A,function(t,e){t.init=function(t){var e,i;for(e in this.context=t.context,this.update=t.update,this.tweens=[],this.current=t.current,t.values)i=t.values[e],this.current[e]!==i&&this.tweens.push(new A({name:e,from:this.current[e],to:i,duration:t.duration,delay:t.delay,ease:t.ease,autoplay:!1}));this.play()},t.render=function(t){var e,i,n=this.tweens.length,s=!1;for(e=n;e--;)(i=this.tweens[e]).context&&(i.render(t),this.current[i.name]=i.value,s=!0);if(!s)return this.destroy();this.update&&this.update.call(this.context)},t.destroy=function(){if(e.destroy.call(this),this.tweens){var t,i=this.tweens.length;for(t=i;t--;)this.tweens[t].destroy();this.tweens=null,this.current=null}}});function W(t,e){return new S.Bare().init(t,e)}var O=W.config={debug:!1,defaultUnit:"px",defaultAngle:"deg",keepInherited:!1,hideBackface:!1,perspective:"",fallback:!y.transition,agentTests:[]};W.fallback=function(t){if(!y.transition)return O.fallback=!0;O.agentTests.push("("+t+")");var e=RegExp(O.agentTests.join("|"),"i");O.fallback=e.test(navigator.userAgent)},W.fallback("6.0.[2-5] Safari"),W.tween=function(t){return new A(t)},W.delay=function(t,e,i){return new z({complete:e,duration:t,context:i})},t.fn.tram=function(t){return W.call(null,this,t)};var H=t.style,M=t.css,F={transform:y.transform&&y.transform.css},j={color:[D,c],background:[D,c,"background-color"],"outline-color":[D,c],"border-color":[D,c],"border-top-color":[D,c],"border-right-color":[D,c],"border-bottom-color":[D,c],"border-left-color":[D,c],"border-width":[E,h],"border-top-width":[E,h],"border-right-width":[E,h],"border-bottom-width":[E,h],"border-left-width":[E,h],"border-spacing":[E,h],"letter-spacing":[E,h],margin:[E,h],"margin-top":[E,h],"margin-right":[E,h],"margin-bottom":[E,h],"margin-left":[E,h],padding:[E,h],"padding-top":[E,h],"padding-right":[E,h],"padding-bottom":[E,h],"padding-left":[E,h],"outline-width":[E,h],opacity:[E,l],top:[E,u],right:[E,u],bottom:[E,u],left:[E,u],"font-size":[E,u],"text-indent":[E,u],"word-spacing":[E,u],width:[E,u],"min-width":[E,u],"max-width":[E,u],height:[E,u],"min-height":[E,u],"max-height":[E,u],"line-height":[E,d],"scroll-top":[P,l,"scrollTop"],"scroll-left":[P,l,"scrollLeft"]},U={};function V(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function q(t){var e=parseInt(t.slice(1),16);return[e>>16&255,e>>8&255,255&e]}function Y(t,e,i){return"#"+(16777216|t<<16|e<<8|i).toString(16).slice(1)}function K(){}y.transform&&(j.transform=[L],U={x:[u,"translateX"],y:[u,"translateY"],rotate:[p],rotateX:[p],rotateY:[p],scale:[l],scaleX:[l],scaleY:[l],skew:[p],skewX:[p],skewY:[p]}),y.transform&&y.backface&&(U.z=[u,"translateZ"],U.rotateZ=[p],U.scaleZ=[l],U.perspective=[h]);var X=/ms/,G=/s|\./;function Z(t,e,i){if(void 0!==e&&(i=e),void 0===t)return i;var n=i;return X.test(t)||!G.test(t)?n=parseInt(t,10):G.test(t)&&(n=1e3*parseFloat(t)),n<0&&(n=0),n==n?n:i}function Q(t){O.debug&&window&&window.console.warn(t)}return t.tram=W}(window.jQuery);const BREAKPOINTS={tablet:640,pc:960,max:1340},BOARD={NO_ITEM:"등록된 글이 없습니다.",RETRY_LATER:"잠시 후 다시 시도해주세요."};let getLoadingBarTpl=function(){return'<div class="loadingbar"></div>'};class Navi{constructor(t){if(!t)return;let e=this;e.btns=t.btns||[],e.mouseoverCallback=t.mouseoverCallback||null,e.mouseoutCallback=t.mouseoutCallback||null,e.mousedownCallback=t.mousedownCallback||null,e.mouseupCallback=t.mouseupCallback||null,e.clickCallback=t.clickCallback||null,e.activateCallback=t.activateCallback||null,e.currentIndex=0,e.activateIndex=0,e.proxy={mouseoverBtnEventHandler:null,mouseoutBtnEventHandler:null,mousedownBtnEventHandler:null,mouseupBtnEventHandler:null,clickBtnEventHandler:null}}init(t){let e=this;return e.proxy={mouseoverBtnEventHandler:$.proxy(e.mouseoverBtnEventHandler,e),mouseoutBtnEventHandler:$.proxy(e.mouseoutBtnEventHandler,e),mousedownBtnEventHandler:$.proxy(e.mousedownBtnEventHandler,e),mouseupBtnEventHandler:$.proxy(e.mouseupBtnEventHandler,e),clickBtnEventHandler:$.proxy(e.clickBtnEventHandler,e)},e.setBtnsEventHandler(!0),e}setBtnsEventHandler(t){if(t)for(let e=0,i=this.btns.length;e<i;e++)$(this.btns.get(e)).on("mouseover.ui.navi",this.proxy.mouseoverBtnEventHandler).on("mouseout.ui.navi",this.proxy.mouseoutBtnEventHandler).on("mousedown.ui.navi",this.proxy.mousedownBtnEventHandler).on("mouseup.ui.navi",this.proxy.mouseupBtnEventHandler).on("click.ui.navi",this.proxy.clickBtnEventHandler);else for(let n=0,s=this.btns.length;n<s;n++)$(this.btns.get(n)).off("mouseover.ui.navi",this.proxy.mouseoverBtnEventHandler).off("mouseout.ui.navi",this.proxy.mouseoutBtnEventHandler).off("mousedown.ui.navi",this.proxy.mousedownBtnEventHandler).off("mouseup.ui.navi",this.proxy.mouseupBtnEventHandler).off("click.ui.navi",this.proxy.clickBtnEventHandler);return this}mouseoverBtnEventHandler(t){t.preventDefault();let e=this,i=t.currentTarget;e.currentIndex=$(e.btns).index(i)+1,e.mouseoverCallback&&e.mouseoverCallback.call(null,{event:t,btn:i,index:e.currentIndex})}mouseoutBtnEventHandler(t){t.preventDefault();let e=t.currentTarget;this.mouseoutCallback&&this.mouseoutCallback.call(null,{event:t,btn:e,index:$(this.btns).index(e)+1})}mousedownBtnEventHandler(t){t.preventDefault();let e=t.currentTarget;this.mousedownCallback&&this.mousedownCallback.call(null,{event:t,btn:e,index:$(this.btns).index(e)+1})}mouseupBtnEventHandler(t){t.preventDefault();let e=t.currentTarget;this.mouseupCallback&&this.mouseupCallback.call(null,{event:t,btn:e,index:$(this.btns).index(e)+1})}clickBtnEventHandler(t){t.preventDefault();let e=this,i=t.currentTarget,n=e.activateIndex,s=$(e.btns).index(i)+1;e.clickCallback&&e.clickCallback.call(null,{event:t,btn:i,prevIndex:n,index:s}),e.activateCallback&&e.activateCallback.call(null,{prevIndex:n,index:s}),e.currentIndex=e.activateIndex=s}getBtns(){return this.btns}getBtn(t){let e=t-1;return e<0||e>=this.btns.length?null:$($(this.btns).get(e))}getActivatedIndex(){return this.activateIndex}activate(t){let e=this,i=t<=0||t>e.btns.length?0:t;return e.activateCallback&&e.activateCallback.call(null,{prevIndex:e.activateIndex,index:i}),e.activateIndex=i,e}destroy(t){let e=this;return e.setBtnsEventHandler(!1),e.btns=[],e.mouseoverCallback=null,e.mouseoutCallback=null,e.clickCallback=null,e.activateCallback=null,e.currentIndex=0,e.activateIndex=0,e}}class HorizontalSlideNavi extends Navi{constructor(t){if(!t)return;let e={Dragdealer:null,wrap:null,handleClass:"",btnsWrap:null,disabled:!1,slide:!0,loose:!0,speed:.25,css3:!0,dragStartCallback:null,dragStopCallback:null,slideEndCallback:null,global:window};if($.extend(!0,e,t),e.Dragdealer=e.Dragdealer?e.Dragdealer:e.global.Dragdealer,!e.Dragdealer)throw Error("HorizontalSlideNavi.js require Dragdealer.js Library.");super(e);let i=this;i.option=e,i.isDraggable=!1,i.dragDealer=null,$.extend(!0,i.proxy,{resizeEventHandler:null})}init(t){super.init(t);let e=this;return e.proxy.resizeEventHandler=$.proxy(e.resize,e),e.setInstance(),e.setResizeEventHandler(!0),e.resize(),e}setInstance(){let t=this,e=t.option;return t.dragDealer=new e.Dragdealer($(e.wrap).get(0),{handleClass:e.handleClass,disabled:e.disabled,horizontal:!0,vertical:!1,slide:e.slide,loose:e.loose,speed:e.speed,css3:e.css3,dragStartCallback:e.dragStartCallback,dragStopCallback:e.dragStopCallback,callback:e.slideEndCallback}),t}setResizeEventHandler(t){let e=$(this.option.global);return t?e.on("resize.ui.horizontalslidenavi",this.proxy.resizeEventHandler):e.off("resize.ui.horizontalslidenavi",this.proxy.resizeEventHandler),this}resize(t){let e=this;if(!e.dragDealer)return;let i=e.option;return $(e.getHandle()).outerWidth()>$(i.wrap).width()?(e.dragDealer.enable(),e.isDraggable=!0):(e.dragDealer.disabled||e.dragDealer.disable(),e.setRatioX(0),e.isDraggable=!1),e}getRatioX(){return this.dragDealer.getValue()[0]}getOffsetRatioByPosition(t){return this.dragDealer.getRatiosByOffsets([t,0])}getHandle(){return this.dragDealer.handle}setX(t){let e=this.getOffsetRatioByPosition(t);return this.dragDealer.setValue(e[0],e[1]),this}setRatioX(t){return this.dragDealer.setValue(t,0),this}isSlidable(){return this.isDraggable}enable(){return this.dragDealer.enable(),this}disable(){return this.dragDealer.disable(),this}destroy(t){let e=this;return e.setResizeEventHandler(!1),e.$proxyResize=null,e.isDraggable=!1,e.dragDealer&&e.dragDealer.unbindEventListeners(),e.dragDealer=null,super.destroy(t),e}}class ServiceShortcut{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,data:null},t),e.Dragdealer=Dragdealer,e.global=e.option.global?e.option.global:window,e.slideNavi=null}init(t){return isDefined(this.option.wrap)&&this.option.wrap.length&&this.setInstance(),this}setInstance(){if(this.option.data){let t=`<div class="handle" ><ul class="btns">${this.option.data.map((t,e)=>{let i=t.url;return/^js:/.test(i)&&(i=`javascript:${i.substring(3)}`),`<li class="${t.visible}"><a href="${i}" target="${t.target}"><span class="icon" style="background-image:url(${t.image})"></span><span class="name">${t.name}</span></a></li>`}).join("")}</ul></div>`;this.option.wrap.append(t)}this.setSlideNavi(),$(this.global).on("resize",$.proxy(this.resize,this)),this.resize()}setSlideNavi(){let t=this,e=$(t.option.wrap),i=$(".btns",e);t.slideNavi=new HorizontalSlideNavi({Dragdealer:t.Dragdealer,btns:$("li a",i),clickCallback:function(t){if(!t||!t.btn)return;let e=$(t.btn),i=e.attr("href"),n=e.attr("target")||"_self";i&&window.open(i,n)},activateCallback:function(e){let i=$(t.slideNavi.getBtns()),n=$(t.slideNavi.getBtn(e.index));i.removeClass("on"),n.addClass("on")},wrap:e,handleClass:"handle",btnsWrap:i}).init()}destroySlideNavi(){let t=this;if(isNotDefined(t.slideNavi))return;t.slideNavi.destroy(),t.slideNavi=null;let e=$(".handle",t.option.wrap);e.css({"-webkit-transform":"translateY(0)","-moz-transform":"translateY(0)","-ms-transform":"translateY(0)","-o-transform":"translateY(0)",transform:"translateY(0)",perspective:"","backface-visibility":""})}resizeList(t){let e=$(".btns",this.option.wrap),i;i="pc"===t?e.children(':visible:not(".only-mobile")').length:e.children(':visible:not(".only-pc")').length,e.children("li").css({width:"calc(100%/"+i+")"})}resize(t){let e=this.option.breakpoint;e.max&&this.global.innerWidth>=e.max?(this.destroySlideNavi(),this.resizeList("pc")):e.pc&&this.global.innerWidth>=e.pc?(this.destroySlideNavi(),this.resizeList("pc")):e.tablet&&this.global.innerWidth>=e.tablet?(this.destroySlideNavi(),this.resizeList("mobile")):(this.slideNavi||this.setSlideNavi(),this.resizeList("mobile"))}}class PageNoDisplay{constructor(t){let e=this;if(!t)return;e.options=$.extend({wrap:null},t),e.wrap=null,e.currentNoWrap=null,e.totalNoWrap=null}init(){return this.setInstance(),this}setInstance(){let t=this;t.wrap=$(t.options.wrap),t.currentNoWrap=$(".current",t.wrap),t.totalNoWrap=$(".total",t.wrap)}setCurrentNo(t){return this.currentNoWrap.text(t),this}setTotalNo(t){return this.totalNoWrap.text(t),this}}class Pagination{constructor(t){let e=this;if(!t)return;e.option=$.extend(!0,{wrap:null,breakpoint:BREAKPOINTS,isMobileEnv:!1,global:window},t),e.isMobileEnv=e.option.isMobileEnv,e.Dragdealer=Dragdealer,e.wrap=null,e.slideNavi=null,e.slideNaviListItems=null,e.desktopNavi=null,e.currentIndex=1,e.currentResolution="",e.global=e.option.global||window,e.subscribeResizeWindow$=null}init(t){let e=this;return e.wrap=$(e.option.wrap),e.wrap.length>0&&(e.currentResolution=getResolution(e.option.breakpoint,e.global),e.setInstance()),e}setInstance(){let t=this;isMobileResolution(t.currentResolution)?(t.setSlideNavi(),$(".btn-prev-mobile").on("click",e=>{let i=t.currentIndex;i=i<=1?0:i-1,$(t).trigger({type:Pagination.CLICK_PAGE_BTN,index:i})}),$(".btn-next-mobile").on("click",e=>{let i=t.currentIndex;i=i>t.slideNavi.getBtns().length?0:i+1,$(t).trigger({type:Pagination.CLICK_PAGE_BTN,index:i})})):t.setDesktopNavi(),t.isMobileEnv?t.subscribeResizeWindow$=fromEvent(window,"resize").pipe(debounceTime(100),tap(e=>t.resize())).subscribe():$(t.global).on("resize.ui.pagination orientationchange.ui.pagination",$.proxy(t.resize,t)),t.resize()}setSlideNavi(){let t=this,e=$(".pagination-mobile",t.wrap),i=$(".btns",e);t.slideNaviListItems=$("li",i),t.setSlideNaviListItemsWidth(t.slideNaviListItems.length),t.slideNavi=new HorizontalSlideNavi({Dragdealer:t.Dragdealer,btns:$("li a",i),clickCallback:function(e){let i=e.index,n=t.slideNavi.getActivatedIndex();i!==n&&(t.currentIndex=e.index,$(t).trigger({type:Pagination.CLICK_PAGE_BTN,index:e.index}))},activateCallback:function(e){t.activateSlideNaviBtn(e.index)},wrap:e,handleClass:"handle",btnsWrap:i}),t.slideNavi.init(),t.slideNaviListItems.length<=2&&t.slideNavi.disable()}setDesktopNavi(){let t=this;t.desktopNavi=new DesktopPaginationNavi({wrap:$(".pagination-pc",t.wrap),clickCallback:function(e){console.log(t.currentIndex,e);let i=e.index,n=t.desktopNavi.getActivatedIndex();i!==n&&(t.currentIndex=e.index,$(t).trigger({type:Pagination.CLICK_PAGE_BTN,index:e.index}))},firstIndex:t.currentIndex,global:t.global}),t.desktopNavi.init(),$(t.desktopNavi).on(DesktopPaginationNavi.CLICK_PREVNEXT_BTN,function(e){let i=e.index,n=e.direction;t.desktopNavi.switchBtns(n,i),$(t).trigger({type:Pagination.CLICK_PAGE_BTN,index:i})})}resize(t){let e=this,i=e.option.breakpoint;i.max&&e.global.innerWidth>=i.max?(e.slideNavi&&(e.slideNavi.destroy(),e.slideNavi=null),e.desktopNavi||e.setDesktopNavi(),e.desktopNavi.activate(e.currentIndex)):i.pc&&e.global.innerWidth>=i.pc?(e.slideNavi&&(e.slideNavi.destroy(),e.slideNavi=null),e.desktopNavi||e.setDesktopNavi(),e.desktopNavi.activate(e.currentIndex)):i.tablet&&e.global.innerWidth>=i.tablet?(e.desktopNavi&&(e.desktopNavi.destroy(),e.desktopNavi=null),e.slideNavi||e.setSlideNavi(),e.slideNavi.activate(e.currentIndex),e.setSlidePositionByIndex(e.currentIndex),e.slideNaviListItems.length>2&&e.slideNavi.enable(),e.setSlideNaviListItemsWidth(e.slideNaviListItems.length)):(e.desktopNavi&&(e.desktopNavi.destroy(),e.desktopNavi=null),e.slideNavi||e.setSlideNavi(),e.slideNavi.activate(e.currentIndex),e.setSlidePositionByIndex(e.currentIndex),e.slideNavi.disable(),e.setSlideNaviListItemsWidth(e.slideNaviListItems.length))}activateSlideNaviBtn(t){let e=$(this.slideNavi.getBtns()),i=$(this.slideNavi.getBtn(t));e.removeClass("on"),i.addClass("on")}setSlidePositionByIndex(t){if(!this.slideNavi||(this.slideNavi.activate(t),t<1||t>this.slideNavi.getBtns().length))return;let e=t<=1?0:t-1,i=t>this.slideNavi.getBtns().length?0:t+1;if(!e){this.slideNavi.setRatioX(0);return}if(!i){this.slideNavi.setRatioX(1);return}let n=$(this.slideNavi.getBtn(e));n.length&&this.slideNavi.setX(-n.position().left)}setSlideNaviListItemsWidth(t){this.slideNaviListItems.length&&this.slideNaviListItems.width(this.getSlideNaviListItemWidth(t))}getSlideNaviListItemWidth(t){let e=this.global.innerWidth;return t<=1?e:e/2}activate(t,e){let i=this;i.slideNavi&&(i.activateSlideNaviBtn(t),i.setSlidePositionByIndex(t)),i.desktopNavi&&(e&&i.desktopNavi.switchBtns(e,t),i.desktopNavi.activate(t)),i.currentIndex=t}}Pagination.CLICK_PAGE_BTN="CLICK_PAGE_BTN";class DesktopPaginationNavi{constructor(t){let e=this;if(!t)return;e.option=$.extend(!0,{wrap:null,clickCallback:null,firstIndex:1,global:window},t),e.wrap=$(e.option.wrap),e.naviWrap=$("> .btns",e.wrap),e.navi=null,e.naviListItems=[],e.prevBtn=null,e.nextBtn=null,e.edgeBtnsIndex={left:0,right:0},e.global=e.option.global||window,e.DISPLAY_BTN_NUM=4,e.DISABLE_PREVNEXT_BTN_INTERVAL=500}init(){this.setInstance()}setInstance(){let t=this;t.wrap.length<=0||(t.naviListItems=$("li",t.naviWrap),t.naviListItems.length>t.DISPLAY_BTN_NUM&&(t.edgeBtnsIndex={left:t.option.firstIndex,right:getLoopedLastIndex(t.naviListItems.length,t.DISPLAY_BTN_NUM,t.option.firstIndex)}),t.setNavi(),t.setPrevNextBtn(),t.arrangeNaviListItems(),$(t.global).on("resize.ui.desktoppaginationnavi",$.proxy(t.resize,t)),t.resize())}setNavi(){let t=this;t.navi=new Navi({btns:$(".btns li a",t.wrap),clickCallback:function(e){t.option.clickCallback&&t.option.clickCallback.call(null,e)},activateCallback:function(e){t.activateNaviBtn(e.index)}}),t.navi.init()}setPrevNextBtn(){let t=this;t.prevBtn=$(".btn-prev",t.wrap),t.nextBtn=$(".btn-next",t.wrap),t.naviListItems.length<=t.DISPLAY_BTN_NUM?(t.prevBtn.hide(),t.nextBtn.hide()):(t.prevBtn.show(),t.nextBtn.show()),t.prevBtn.on("click.ui.desktoppaginationnavi",function(e){e.preventDefault();let i=t.navi.getActivatedIndex()-1;i<=0&&(i=t.navi.getBtns().length),$(t).trigger({type:DesktopPaginationNavi.CLICK_PREVNEXT_BTN,direction:"prev",index:i}),t.disablePrevNextBtnAtMoment(t.prevBtn,t.DISABLE_PREVNEXT_BTN_INTERVAL)}),t.nextBtn.on("click.ui.desktoppaginationnavi",function(e){e.preventDefault();let i=t.navi.getActivatedIndex()+1;i>t.navi.getBtns().length&&(i=1),$(t).trigger({type:DesktopPaginationNavi.CLICK_PREVNEXT_BTN,direction:"next",index:i}),t.disablePrevNextBtnAtMoment(t.nextBtn,t.DISABLE_PREVNEXT_BTN_INTERVAL)})}disablePrevNextBtnAtMoment(t,e){t.prop("disabled",!0),window.setTimeout(function(){t.prop("disabled",!1)},e)}activateNaviBtn(t){let e=$(this.navi.getBtns()),i=$(this.navi.getBtn(t));e.removeClass("on"),i.addClass("on")}arrangeNaviListItems(){let t=this.getNaviListItemWidth(this.naviListItems.length);this.setNaviListItemsWidth(t),this.setNaviListItemsPosition(this.naviListItems,t)}setNaviListItemsWidth(t){this.naviListItems.length&&this.naviListItems.width(t)}setNaviListItemsPosition(t,e){if(!(t.length<=0)){if(t.length<=this.DISPLAY_BTN_NUM)for(let i=0;i<t.length;i++)tram($(t[i])).set({x:i*e});else{$(t).hide();let n=this.edgeBtnsIndex.left;for(let s=0;s<this.DISPLAY_BTN_NUM;s++){let a=$(t[n-1]);n++,this.naviListItems.length<n&&(n=1),a.show(),tram(a).set({x:s*e})}}}}getNaviListItemWidth(t){let e=this.naviWrap.width();return t<=1?e:t<=this.DISPLAY_BTN_NUM?e/t:e/this.DISPLAY_BTN_NUM}resize(t){this.arrangeNaviListItems()}destroy(t){let e=this;$(e.global).off("resize.ui.desktoppaginationnavi"),e.navi&&e.navi.destroy(),e.navi=null,e.naviListItems=[],e.prevBtn.off("click.ui.desktoppaginationnavi"),e.prevBtn=null,e.nextBtn.off("click.ui.desktoppaginationnavi"),e.nextBtn=null}activate(t){this.navi&&this.navi.activate(t)}getActivatedIndex(){return this.navi?this.navi.getActivatedIndex():0}switchBtns(t,e){let i=this;if(i.naviListItems.length<=i.DISPLAY_BTN_NUM||!t||isIndexInLoop(i.naviListItems.length,i.DISPLAY_BTN_NUM,i.edgeBtnsIndex.left,e))return;let n=$(".btns",i.wrap),s=i.navi.getBtns(),a=i.getNaviListItemWidth(s.length),o=0;switch(t){case"prev":i.edgeBtnsIndex={left:getReverseLoopedFirstIndex(i.naviListItems.length,i.DISPLAY_BTN_NUM,e),right:e},o=-i.global.innerWidth;break;case"next":i.edgeBtnsIndex={left:e,right:getLoopedLastIndex(i.naviListItems.length,i.DISPLAY_BTN_NUM,e)},o=i.global.innerWidth}i.setNaviListItemsWidth(a),i.setNaviListItemsPosition(i.naviListItems,a),tram(n).stop({x:!0}).set({x:o}).add("transform 0.5s ease-out-expo").start({x:0}).then(function(){})}}DesktopPaginationNavi.CLICK_PREVNEXT_BTN="CLICK_PREVNEXT_BTN";class PromotionBanner{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,rollingInterval:0,breakpoint:BREAKPOINTS,global:window,data:null},t),e.global=e.option.global?e.option.global:window,e.isMobileEnv=$("body").hasClass("mobile")||$("body").hasClass("tablet"),e.wrap=null,e.slickWrap=null,e.slickWrapOuterHtml="",e.currentResolution="",e.pageNoDisplay=null,e.currentPageNo=0,e.totalPageNo=0,e.pagination=null,e.promotionListAll=null,e.rollingBannerIntervalId=null,e.subscribeResizeWindow$=null}init(){let t=this;t.wrap=$(t.option.wrap),t.is_admin=account&&account.gm;let e=t.option.data.map((e,i)=>`<li data-title="${e.title}" data-desc="${e.desc}" data-date="${e.date}" data-url="${e.url}" data-target="${e.target}" data-banner="${e.banner}" data-thumbnail="${e.thumbnail}" data-flag="${e.flagTitle}"><div class="bg-mobile" data-lazy="${e.banner}"></div><div class="bg" data-lazy="${e.banner}"></div><div class="article"><a href="${e.url}" class="${e.target}">${e.flag?`<span class="type is-type">${e.flagTitle}</span>`:'<span class="type"></span>'}<strong class="title">${e.title}</strong><span class="desc">${e.desc}</span><span class="date">${e.date}</span></a></div>`+(t.is_admin?`<div class="promotion_admin_util"><button class="promotion_modify_btn" data-id="${e.id}">수정</button><button class="promotion_del_btn" data-id="${e.id}">삭제</button><button class="promotion_add_btn">추가</button></div>`:"")+"</li>").join(""),i=t.option.data.map((t,e)=>`<li><a href="#">${t.title}</a></li>`).join(""),n=`<div class="section-promotion__list banner-wrap"><ul>${e}</ul></div><div class="pagination-wrap"><div class="page-no"><span class="current">0</span><span class="divider">/</span><span class="total">0</span></div><button type="button" class="btn-prev-mobile">prev</button><button type="button" class="btn-next-mobile">next</button><div class="pagination-mobile"><div class="handle"><ul class="btns">${i}</ul></div></div><div class="pagination-pc"><ul class="btns">${i}</ul><button type="button" class="btn-prev">prev</button><button type="button" class="btn-next">next</button></div></div><div class="section-promotion__listall"><div class="bundle"><button class="btn-listall"></button><div class="wrap-listall"><ul>${t.option.data.map((t,e)=>`<li><a href="${t.url}"><img src="${t.thumbnail}" class="thumb"><div class="article"><strong class="subject">${t.title}</strong><span class="date">${t.desc}</span></div></a></li>`).join("")}</ul></div></div></div>`;t.option.wrap.empty().append(n),t.setInstance()}setInstance(){let t=this;if(t.wrap=$(t.option.wrap),notSingleEle(t.wrap))return t;t.slickWrap=$(".section-promotion__list ul",t.wrap);let e=$("li",t.slickWrap);return e.length<=0||(t.slickWrapOuterHtml=t.slickWrap.clone().wrapAll("<div />").parent().html(),t.currentResolution=getResolution(t.option.breakpoint,t.global),t.currentPageNo=1,t.totalPageNo=e.length,t.promotionListAll=$(".section-promotion__listall",t.wrap),t.addEvent(),t.is_admin&&t.addEventAdmin()),t}addEvent(){let t=this;t.showWrap(),t.setPromotionListAll(),t.setPageNoDisplay(),t.setPagination(),t.resetBannerByBreakPoint(t.currentResolution),t.setBanner(t.currentPageNo),t.setPageNo(t.currentPageNo,t.totalPageNo),t.activatePagination(t.currentPageNo),t.setPromotionBannerRolling(),t.isMobileEnv?t.subscribeResizeWindow$=fromEvent(window,"resize").pipe(debounceTime(100),tap(e=>t.resize())).subscribe():$(t.global).on("resize orientationchange",$.proxy(t.resize,t)),t.resize()}addEventAdmin(){let t=this;t.promotion_admin_sync=!1,$(".promotion_admin_util .promotion_add_btn").on("click",e=>{t.promotionInsert()}),$(".promotion_admin_util .promotion_del_btn").on("click",function(e){t.promotionDelete($(this).attr("data-id"))}),$(".promotion_admin_util .promotion_modify_btn").on("click",function(e){t.promotionModify($(this).attr("data-id"),this)})}promotionUtilForm(t){let e=this,i=`<div class="promotionUtilForm"><div class="promotionUtilForm_container"><form name="promoForm" onsubmit="return false;"><h1>프로모션</h1><input type="hidden" name="promoId" id="promoId" /><input type="hidden" name="dividPath" id="dividPath" value="PROMO_"/><div class="util_items"><label>제목</label><input type="text" name="promoTitle" id="promoTitle" placeholder="필수항목" /></div><div class="util_items"><label>내용</label><input type="text" name="promoContent" id="promoContent" placeholder="필수항목" /></div><div class="util_items"><label>날짜</label><input type="text" name="promoDate" id="promoDate" placeholder="생략가능" /></div><div class="util_items"><label>링크</label><input type="text" name="promoLink" id="promoLink" placeholder="필수항목(이동 경로)" /></div><div class="util_items"><label>대상</label><select name="promoTarget" id="promoTarget"><option value="self" selected>self</option><option value="blank">blank</option><option value="outlink">outlink</option></select></div><div class="util_items filebox"><label>이미지</label><i><input class="upload-name" id="promoImgStr" name="promoImgStr" placeholder="필수항목(이미지 파일)" readonly><label class="file-label" for="promoImg">파일찾기</label><input type="file" name="promoImg" id="promoImg" class="file"></i></div><div class="util_items filebox"><label>썸네일</label><i><input class="upload-name" id="promoSubImgStr" name="promoSubImgStr" placeholder="필수항목(이미지 파일)" readonly><label class="file-label" for="promoSubImg">파일찾기</label><input type="file" name="promoSubImg" id="promoSubImg" class="file"></i></div><div class="util_items"><label>강조</label><input type="text" name="promoFlagTitle" id="promoFlagTitle" placeholder="생략가능" /></div>${"update"==t?`<div class="btns"><button class="promotion_cancel_btn">취소</button><button class="promotion_modify_btn">수정</button></div>`:`<div class="btns"><button class="promotion_cancel_btn">취소</button><button class="promotion_insert_btn">추가</button></div>`}</form></div></div>`;$("#container").append(i),$("body").addClass("ncc-dimmed"),$(".promotionUtilForm .promotion_insert_btn").on("click",t=>(e.promotionAdd(),!1)),$(".promotionUtilForm .promotion_modify_btn").on("click",t=>(e.promotionUpdate(),!1)),$(".promotionUtilForm .promotion_cancel_btn").on("click",t=>(e.promotionCancel(),!1)),$(".promotionUtilForm #promoImg").on("change",function(t){return e.promoFileChange(this),!1}),$(".promotionUtilForm #promoSubImg").on("change",function(t){return e.promoFileChange(this),!1})}promoFileChange(t){$(t).closest(".filebox").find(".upload-name").val($(t).val())}promotionInsert(t,e){let i=$(".section-promotion__listall .wrap-listall > ul > li").length;if(i>=16){alert(`프로모션은 최대 16개까지 등록할 수 있습니다.`);return}this.promotionUtilForm("insert")}promotionAdd(){let t=this;if(confirm("정말로 등록 하시겠습니까?")){var e=document.promoForm;if(!e.promoTitle.value||!e.promoContent.value||!e.promoLink.value||!e.promoImg.value||!e.promoSubImg.value){alert("필수항목을 입력하십시오.");return}if($("#promoImg").prop("files")[0].size>1048576||$("#promoSubImg").prop("files")[0].size>1048576){alert("이미지는 1MB이하로 등록하십시오.");return}!t.promotion_admin_sync&&(t.promotion_admin_sync=!0,getDatasWithOption([{type:"POST",url:"/define/promotion/insert",contentType:!1,processData:!1,cache:!1,timeout:6e5,data:new FormData(e)}],e=>{t.promotion_admin_sync=!1,e?location.reload():alert("등록에 실패하였습니다.")},e=>{throw t.promotion_admin_sync=!1,Error("promotionAdd from main.js Error")}))}}promotionModify(t,e){this.promotionUtilForm("update");let i=$(e).closest("li");$(".promotionUtilForm #promoId").val(t),$(".promotionUtilForm #promoTitle").val(i.attr("data-title")),$(".promotionUtilForm #promoContent").val(i.attr("data-desc")),$(".promotionUtilForm #promoDate").val(i.attr("data-date")),$(".promotionUtilForm #promoLink").val(i.attr("data-url")),$(".promotionUtilForm select[name=promoTarget] option[value="+i.attr("data-target")+"]").prop("selected",!0),$(".promotionUtilForm #promoImg").closest(".filebox").find(".upload-name").val(i.attr("data-banner")),$(".promotionUtilForm #promoSubImg").closest(".filebox").find(".upload-name").val(i.attr("data-thumbnail")),$(".promotionUtilForm #promoFlagTitle").val(i.attr("data-flag"))}promotionUpdate(){let t=this;var e=document.promoForm;if(!e.promoId.value||!e.promoTitle.value||!e.promoContent.value||!e.promoLink.value||!e.promoImgStr.value||!e.promoSubImgStr.value){alert("필수항목을 입력하십시오.");return}let i=$("#promoImg").prop("files")[0],n=$("#promoSubImg").prop("files")[0];if(i&&i.size>1048576||n&&n.size>1048576){alert("이미지는 1MB이하로 등록하십시오.");return}confirm("정말로 수정 하시겠습니까?")&&!t.promotion_admin_sync&&(t.promotion_admin_sync=!0,getDatasWithOption([{type:"POST",url:"/define/promotion/update",contentType:!1,processData:!1,cache:!1,timeout:6e5,data:new FormData(e)}],e=>{t.promotion_admin_sync=!1,e?location.reload():alert("수정에 실패하였습니다.")},e=>{throw t.promotion_admin_sync=!1,Error("promotionUpdate from main.js Error")}))}promotionDelete(t){let e=this;confirm("정말로 삭제 하시겠습니까?")&&!e.promotion_admin_sync&&(e.promotion_admin_sync=!0,getDatasWithOption([{type:"POST",url:"/define/promotion/delete",dataType:"json",contentType:"application/json",Accept:"application/json",data:{id:t}}],t=>{e.promotion_admin_sync=!1,t?location.reload():alert("삭제에 실패하였습니다.")},t=>{throw e.promotion_admin_sync=!1,Error("promotionDelete from main.js Error")}))}promotionCancel(){$(".promotionUtilForm").remove(),$("body").removeClass("ncc-dimmed")}setPromotionListAll(){let t=this;$(".btn-listall",t.promotionListAll).on("click",e=>{e.preventDefault();let i=t.promotionListAll.hasClass("on");t.showPromotionList(!i)})}showPromotionList(t){truthy(t)?this.promotionListAll.addClass("on"):this.promotionListAll.removeClass("on")}setPageNoDisplay(){let t=this;t.pageNoDisplay=new PageNoDisplay({wrap:$(".pagination-wrap .page-no",t.wrap)}).init()}setPagination(){let t=this;t.pagination=new Pagination({wrap:$(".pagination-wrap",t.wrap),breakpoint:t.option.breakpoint,isMobileEnv:t.isMobileEnv,global:t.global}).init(),$(t.pagination).on(Pagination.CLICK_PAGE_BTN,$.proxy(t.activateBannerByPagination,t))}resetBannerByBreakPoint(t){this.destroySlickWrap();let e=$(".section-promotion__list ul",this.wrap),i=$("li",e),n=null,s=null;if(isPhoneResolution(t))for(let a=0,o=i.length;a<o;a++)(s=$(".bg-mobile",i.get(a))).replaceWith(`<img class="${s.attr("class")}" data-lazy="${s.attr("data-lazy")}">`);else if(isTabletResolution(t))for(let r=0,l=i.length;r<l;r++)n=$(".bg",i.get(r)),(s=$(".bg-mobile",i.get(r))).replaceWith(`<img class="${s.attr("class")}" data-lazy="${n.attr("data-lazy")}">`);else for(let c=0,h=i.length;c<h;c++)(n=$(".bg",i.get(c))).replaceWith(`<img class="${n.attr("class")}" data-lazy="${n.attr("data-lazy")}">`)}setBanner(t=1){let e=this;e.slickWrap=$(".section-promotion__list ul",e.wrap),e.slickWrap.on("lazyLoaded",function(t,e,i,n){let s=$(i);if(s.length){let a=$(`<div class="${s.attr("class")}" style="background-image:url(${n});"></div>`);tram(a).set({opacity:0}),s.replaceWith(a),tram(a).stop({opacity:!0}).add("opacity 0.5s ease-out-expo").start({opacity:1})}}),e.slickWrap.on("lazyLoadError",function(t,e,i,n){let s=$(i);s.length&&s.replaceWith(`<div class="${s.attr("class")||""}" style="background-image:url(${n||""});"></div>`)}),e.slickWrap.on("beforeChange",function(t,i,n,s){let a=s+1,o=0===i.currentDirection?"next":"prev";e.activatePagination(a,o),e.currentPageNo=a}),e.slickWrap.slick({infinite:!0,arrows:!1,speed:250,lazyLoad:"ondemand",initialSlide:t-1}),e.slickWrap.slick("setPosition")}setPageNo(t,e){!isNotDefined(this.pageNoDisplay)&&(isDefined(t)&&this.pageNoDisplay.setCurrentNo(t),isDefined(e)&&this.pageNoDisplay.setTotalNo(e))}activatePagination(t,e){this.setPageNo(t),this.pagination&&isDefined(e)&&this.pagination.activate(t,e)}activateBannerByPagination(t={type:Pagination.CLICK_PAGE_BTN,index:1}){let e=this,i=t.index;e.isSlickWrapInitialized()&&(e.slickWrap.slick("slickGoTo",i-1),e.currentPageNo=i)}showWrap(){tram(this.wrap).set({opacity:0,visibility:"visible"}).stop({opacity:!0}).add("opacity 0.5s ease-out-expo").start({opacity:1})}resize(t){let e=this,i=getResolution(e.option.breakpoint,e.global);if(i!==e.currentResolution){let n=isMobileResolution(i),s=isMobileResolution(e.currentResolution);if(n&&s){let a=e.slickWrap.slick("slickCurrentSlide")+1;e.resetBannerByBreakPoint(i),e.setBanner(a),e.showPromotionList(!1),e.is_admin&&e.addEventAdmin()}else if(n||s){let o=e.slickWrap.slick("slickCurrentSlide")+1;e.resetBannerByBreakPoint(i),e.setBanner(o),e.showPromotionList(!1),e.is_admin&&e.addEventAdmin()}e.currentResolution=i}}destroySlickWrap(){this.isSlickWrapInitialized()&&(this.slickWrap.off("lazyLoaded"),this.slickWrap.off("lazyLoadError"),this.slickWrap.slick("unslick"),this.slickWrap.replaceWith(this.slickWrapOuterHtml))}isSlickWrapInitialized(){return!!this.slickWrap&&!!this.slickWrap.length&&this.slickWrap.hasClass("slick-initialized")}setPromotionBannerRolling(){let t=this;t.totalPageNo<=1||(t.setRollingBannerInterval(!0,t.option.rollingInterval,t.activateNextPromotionBanner),!0===t.isMobileEnv?t.wrap.on("touchstart.ui.promotionbanner",e=>{t.setRollingBannerInterval(!1)}).on("touchend.ui.promotionbanner",e=>{t.setRollingBannerInterval(!0,t.option.rollingInterval,t.activateNextPromotionBanner)}):t.wrap.on("mouseover.ui.promotionbanner",e=>{t.setRollingBannerInterval(!1)}).on("mouseout.ui.promotionbanner",e=>{t.setRollingBannerInterval(!0,t.option.rollingInterval,t.activateNextPromotionBanner)}))}setRollingBannerInterval(t,e,i){let n=this;isDefined(n.rollingBannerIntervalId)&&(n.global.clearInterval(n.rollingBannerIntervalId),n.rollingBannerIntervalId=null),truthy(t)&&(n.rollingBannerIntervalId=n.global.setInterval(()=>{i&&i.apply(n,[])},e))}activateNextPromotionBanner(){let t=this;t.currentPageNo++,t.currentPageNo>t.totalPageNo&&(t.currentPageNo=1),t.slickWrap.slick("slickGoTo",t.currentPageNo-1)}}class NewsContent{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,data:null},t),e.global=e.option.global?e.option.global:window}init(t){return isDefined(this.option.wrap)&&this.option.wrap.length&&this.setInstance(),this}setInstance(){let t=moment().format("YYYYMMDD"),e=`<header><h2><a href="${this.option.data.headerUrl}">${this.option.data.header}</a></h2></header><article><a href="${this.option.data.url}"><dl><dd class="thumb" style="background-image:url('${this.option.data.thumbnail}');"><img src="${this.option.data.thumbnail}" class="thumb"></dd><dt>${this.option.data.title}</dt></dl></a><ul>${this.option.data.items.map((e,i)=>{let n=t-moment(new Date(e.date)).format("YYYYMMDD")==0;return`<li class="is-new-${n}"><a href="javascript:urlTypeform('0', '${e.rownum}', 'post', '/notice/view');">${e.title}</a>${n?'<span class="icon-new"></span>':""}</li>`}).join("")}</ul></article>`;this.option.wrap.append(e)}}class HotIssue{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,data:null},t),e.global=e.option.global?e.option.global:window}init(t){return isDefined(this.option.wrap)&&this.option.wrap.length&&this.setInstance(),this}setInstance(){let t=`<header><h2>핫이슈</h2><span class="btn-toggle"></span></header><article><ol class="keyword">${this.option.data.map((t,e)=>`<li>${"-"==t[0]?'<a href="javascript:;">':`<a href="/search?query=${t[0]}">`}${t[0]}</a><span class="ui-rank ${t[1]}">${t[2]}</span></li>`).join("")}</ol></article>`;this.option.wrap.append(t),this.addEvents()}addEvents(){$(".section-hotissue span.btn-toggle").on("click",function(){$(".section-hotissue").toggleClass("on")})}}class TopCard{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,apiDomain:"",data:null},t),e.global=e.option.global?e.option.global:window}init(){return this.setInstance(),this}setInstance(){let t=this.option.data.map((t,e)=>`<section class="section-powerbook section-${t.contentsId}"><header><h2><a href="${t.headerUrl}">${t.header}</a></h2></header><article><a href="${t.url}"><dl><dd class="thumb" style="background-image:url('${t.thumbnail}');"><img src="${t.thumbnail}" class="thumb"></dd><dt>${t.title}</dt><dd class="desc" style="max-height: 24px; overflow: hidden;">${t.desc}</dd></dl></a></article></section>`).join("");this.option.wrap.append(t),this.addEvent()}addEvent(){let t=this;t.option.wrap.slick({dots:!0,infinite:!1,arrows:!1,speed:300,slidesToScroll:1,responsive:[{breakpoint:4e3,settings:"unslick"},{breakpoint:640,slidesToShow:1}]}),$(window).resize(function(){t.option.wrap.slick("resize")})}}class SectionContent{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,data:null},t),e.global=e.option.global?e.option.global:window}init(t){return isDefined(this.option.wrap)&&this.option.wrap.length&&this.setInstance(),this}setInstance(){let t=[],e=this.option.data.map((e,i)=>("type6"===e.contentsType&&t.push(e.contentsId),"type4"===e.contentsType)?`<section class="section-content-${e.contentsType} true" data-order-id="${e.orderId}"><div class="bundle"><header><h2>${e.header}</h2></header><article id="${e.contentsId}">${e.items.map((t,i)=>{var n,s,a,o;return"FREE"===e.boad_type?(n=t,`<div class="slick-item"><a href="javascript:urlform('${n.rownum}', 'post', '/board/view');"><dl><dd class="thumb" style="background-image:url('${n.mainImg?n.mainImg:`https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/img/updateThum/server_00${(s=i)+1}.jpg`}');"><span class="flag">${n.name}</span></dd><dt><strong>${n.title}</strong></dt></dl></a></div>`):(a=t,`<div class="slick-item"><a href="javascript:urlform('${a.rownum}', 'post', '/contents/view');"><dl><dd class="thumb" style="background-image:url('${a.mainImg?a.mainImg:`https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/img/eventThum/event_00${(o=i)+1}.jpg`}');"><span class="flag">${a.name}</span></dd><dt><strong>${a.title}</strong></dt></dl></a></div>`)}).join("")}</article></div></section>`:`<section class="section-content-${e.contentsType} true" data-order-id="${e.orderId}"><header><h2>${e.header}</h2></header><article id="${e.contentsId}">${e.items.map((t,e)=>{var i;return i=t,`<div class="slick-item"><a href="/powerbook/search?searchType=4&query=${i.name}"><dl><dd class="thumb"><span class="flag 파워북">파워북</span><img src="${i.info.mainImg}" class="thumb"></dd><dt><strong>파워북</strong></dt><dd class="desc">${i.name}</dd></dl></a></div>`}).join("")}</article></section>`).join("");this.option.wrap.empty().append(e),this.addEvent_slick6(t)}addEvent_slick3(t){0!=t.length&&t.forEach(function(t){$("#"+t).slick({dots:!0,arrows:!1,infinite:!1,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:640,settings:{slidesToShow:2,slidesToScroll:2}}]})})}addEvent_slick6(t){0!=t.length&&t.forEach(function(t){$("#"+t).slick({dots:!0,arrows:!1,infinite:!1,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}}]})})}}class NshopContent{constructor(t){let e=this;if(!t)return;e.option=$.extend({wrap:null,breakpoint:BREAKPOINTS,global:window,data:null},t),e.global=e.option.global?e.option.global:window}init(){return isDefined(this.option.wrap)&&this.option.wrap.length&&this.setInstance(),this}setInstance(){if(!this.option.data){this.option.wrap.append('<header><h2><a href="/goods">리니지N샵</a></h2></header><div class="mainContent_empty"><p>등록된 상품이 없습니다.</p></div>');return}let t=`<header><h2><a href="/goods">리니지N샵</a></h2></header><article id="nshopRoll"><div class="slick-item">${this.option.data.map((t,e)=>`<section class="nshop__item"><a href="javascript:urlform('${t[0].id}', 'post', '/goods/view');"><span class="flag flag-none"></span><dl><dd class="thumb"><img src="${t[0].icon_image}" alert="${t[0].title}"></dd><dt>${t[0].title}</dt><dd class="price">${"NCOIN"===t[0].price_type?'<i class="price_ncoin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#F16126" d="M18.965 12.51l-6.455 6.455a3.56 3.56 0 0 1-5.02 0L1.035 12.51a3.56 3.56 0 0 1 0-5.02L7.49 1.035a3.56 3.56 0 0 1 5.02 0l6.455 6.455a3.56 3.56 0 0 1 0 5.02"></path><path fill="#FFF" d="M12.5 6.989s-2.374-.279-2.809 0c0 0-1.02.471-1.02 1.957v2.108c-.018 1.486 1.02 1.957 1.02 1.957.435.279 2.809 0 2.809 0v1.829c-.877.277-2.68.26-2.68.26-3.038-.002-3.32-3.394-3.32-3.394V8.294S6.782 4.902 9.82 4.9c0 0 1.803-.017 2.68.261V6.99z"></path></svg></i>':'<i class="price_npoint"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="#F16126" d="M18.965 12.51l-6.455 6.455a3.56 3.56 0 0 1-5.02 0L1.035 12.51a3.56 3.56 0 0 1 0-5.02L7.49 1.035a3.56 3.56 0 0 1 5.02 0l6.455 6.455a3.56 3.56 0 0 1 0 5.02"></path><path fill="#FFF" d="M12.5 6.989s-2.374-.279-2.809 0c0 0-1.02.471-1.02 1.957v2.108c-.018 1.486 1.02 1.957 1.02 1.957.435.279 2.809 0 2.809 0v1.829c-.877.277-2.68.26-2.68.26-3.038-.002-3.32-3.394-3.32-3.394V8.294S6.782 4.902 9.82 4.9c0 0 1.803-.017 2.68.261V6.99z"></path></svg></i>'}<strong>${t[0].price_comma}</strong></dd></dl></a></section>`).join("")}</div></article>`;this.option.wrap.append(t),this.addEvent()}addEvent(){$("#nshopRoll").slick({dots:!0,infinite:!1,arrows:!1,speed:300,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:640,slidesToShow:2}]}),$(window).resize(function(){$("#nshopRoll").slick("resize")})}}!function(t,e){"use strict";let i=null,n=null,s=null,a=null,o=null,r=null,l=null;namespace("nc.lineage"),nc.lineage.main=function(c){if(isNotDefined(c))throw Error("nc.lineage.main require options object");let h={};h.section=[],h.topcard=[],t(c.promotionBanner.wrap).append(getLoadingBarTpl()),t(c.sectionContent.wrap).append(getLoadingBarTpl()),function u(){if(!index_data){console.log("error : no data");return}t.each(index_data,function(t,e){switch(t){case"PROMOTIONS":h.promotion=e;break;case"NOTICE":let i=e?e.shift():null;h.news={items:e,header:"공지사항",headerUrl:"/notice",title:i?i.title:BOARD.NO_DATA,url:i?`javascript:urlTypeform('0', '${i.rownum}', 'post', '/notice/view');`:"javascript:;",thumbnail:i?i.mainImg?i.mainImg:"https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/img/mainContent/notice.jpg":""};break;case"UPDATE":h.topcard[0]={header:"업데이트",contentsId:"update",headerUrl:"/update",thumbnail:e?e.mainImg?e.mainImg:"https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/img/mainContent/event.jpg":"",title:e?e.title:BOARD.NO_DATA,desc:e?e.content:"",url:e?`javascript:urlTypeform('1', '${e.rownum}', 'post', '/update/view');`:"javascript:;"};break;case"EVENT":h.topcard[1]={header:"이벤트",contentsId:"event",headerUrl:"/event",thumbnail:e?e.mainImg?e.mainImg:"https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/img/mainContent/update.jpg":"",title:e?e.title:BOARD.NO_DATA,desc:e?e.content:"",url:e?`javascript:urlTypeform('2', '${e.rownum}', 'post', '/event/view');`:"javascript:;"};break;case"KEYWORD":h.hotissue=e;break;case"SHORTCUT":h.shortcut=e;break;case"GUIDE":h.section[0]={contentsId:"lineageworld",contentsType:"type6",header:"파워북",items:e,orderId:0};break;case"COMMUNITY":h.section[1]={contentsId:"board_user",contentsType:"type4",header:"COMMUNITY: 서버 계시판!",items:e,orderId:1,boad_type:"FREE"};break;case"CONTENT":h.section[2]={contentsId:"content_user",contentsType:"type4",header:"CONTENTS: 컨텐츠 공모!",items:e,orderId:2,boad_type:"CONTENTS"};break;case"GOODS":h.nshop=e;break;case"MODAL":includeJS("https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/js/modal.min.js",cacheVersion);break;case"TOAST":includeJS("https://cdn.jsdelivr.net/gh/pjs4020032303-coder/web/js/toast.min.js",cacheVersion);break;default:console.log("UNDEFINED_INDEX_DATA_KEY : "+t)}}),function u(){let p=t.extend(!0,{isIngame:isIngame,promotionBanner:{wrap:null,rollingInterval:5e3,breakpoint:BREAKPOINTS,global:e,data:h.promotion},serviceShortcut:{wrap:null,breakpoint:BREAKPOINTS,global:e,data:h.shortcut},newsContent:{wrap:null,breakpoint:BREAKPOINTS,global:e,data:h.news},hotIssue:{wrap:null,breakpoint:BREAKPOINTS,global:e,data:h.hotissue},topCard:{wrap:null,breakpoint:BREAKPOINTS,global:e,apiDomain:c.apiDomain,data:h.topcard},sectionContent:{wrap:null,breakpoint:BREAKPOINTS,global:e,data:h.section},nshopContent:{wrap:null,breakpoint:BREAKPOINTS,global:e,data:h.nshop}},c);i=new PromotionBanner(p.promotionBanner).init(),n=new ServiceShortcut(p.serviceShortcut).init(),s=new NewsContent(p.newsContent).init(),a=new HotIssue(p.hotIssue).init(),o=new TopCard(p.topCard).init(),r=new SectionContent(p.sectionContent).init(),l=new NshopContent(p.nshopContent).init()}()}()};let c=t("#FooterGradeLayer");t("body").mouseup(function(t){!c.has(t.target).length&&c.hasClass("is-show-footer")&&c.removeClass("is-show-footer")}),t("#grade-layer-item").on("click",function(t){c.hasClass("is-show-footer")?c.removeClass("is-show-footer"):c.addClass("is-show-footer")}),account&&account.ingame&&account.gm&&(t(".section-etcservice").prepend(`<a class="l1_function_btn">함수 보기</a>`),t(".section-etcservice .l1_function_btn").on("click",function(e){let i=Object.getOwnPropertyNames(L1).map((t,e)=>`<li><strong>${t}</strong></li>`).join("");t("body").prepend(`<div id="l1_functions" style="position: fixed; left: 35%; top: 10%; z-index: 111111111; padding: 10px; background: #000; color: #fff; max-height: 400px;overflow: auto;"><ul>${i}</ul><a href="javascript:$('#l1_functions').remove();" style="margin: auto; display: table; padding: 10px; background: cadetblue; color: #fff; font-weight: 600;">닫기</a></div>`),eventStop(e)}))}(jQuery,window);