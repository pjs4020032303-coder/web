/*!
 * project : signin
 * author : LINOFFICE
 * 계정 로그인 페이지
 */ let signin_singleton=null,signin_singletonEnforcer="singletonEnforcer";class Signin{constructor(n){if(n!==signin_singletonEnforcer)throw"Cannot--construct singleton";this.init()}static get instance(){return signin_singleton||(signin_singleton=new Signin(signin_singletonEnforcer)),signin_singleton}init(){this.input_email=$(".input-email #login_name"),this.input_pwd=$(".input-pwd #password"),this.message_email=$(".input-email .msg"),this.message_pwd=$(".input-pwd .msg"),this.btnLogin=document.querySelector("#btnPlayncLogin"),this.login_sync=!1,this.addEvents()}login(n){if(!this.input_email.val()){this.message_email.text("아이디를 입력해주세요."),this.input_email.focus();return}if(!this.input_pwd.val()){this.message_pwd.text("비밀번호를 입력해주세요."),this.input_pwd.focus();return}if(this.login_sync)return;this.login_sync=!0;let i={loginname:this.input_email.val(),password:this.input_pwd.val()};getDatasWithOption([{type:"POST",url:"/define/account/loginReCheck",dataType:"json",contentType:"application/json",Accept:"application/json",data:i}],i=>{this.login_sync=!1,i?location.href=n||"/":this.message_email.text("등록하지 않은 아이디이거나 비밀번호가 일치하지 않습니다.")},n=>{throw this.login_sync=!1,Error("loginCheck from account.js Error")})}keyup(n){let i=$(n).val();$(n).focus()&&(i?($(n).closest("div").find(".btn-delete").css("display","inline"),$(n).closest("div").find(".msg").text("")):$(n).closest("div").find(".btn-delete").css("display","none")),$(n).focus(function(){$(n).closest("div").find(".btn-delete").css("display",i?"inline":"none")})}addEvents(){let n=this;this.input_email.on("keyup",function(i){n.keyup($(this))}),this.input_pwd.on("keyup",function(i){n.keyup($(this))}),this.btnLogin.addEventListener("click",i=>{n.login(this.btnLogin.getAttribute("data-url"))});let i=$(".keypad"),s=$(".keypad-btn"),t=$(".contents");s.on("click",function(n){$(this).toggleClass("on"),t.hasClass("moveDown")?(t.removeClass("moveDown"),t.addClass("moveUp"),i.removeClass("moveShow"),i.addClass("moveHide")):(t.removeClass("moveUp"),t.addClass("moveDown"),i.removeClass("moveHide"),i.addClass("moveShow"))}),$(".btn-delete").on("click",function(n){let i=$(this).closest("div").find("input");i.val(""),$(this).css("display","none")}),$(window).resize(function(){window.outerWidth>972&&(s.removeClass("on"),t.removeClass("moveDown"),i.removeClass("moveShow"))})}}Signin.instance;